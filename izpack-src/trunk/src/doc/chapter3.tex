% Chapter 3
\chapter{Advanced features}

% Ant integration
\section{Ant integration}

\IzPack can be easily integrated inside a Ant building process. To do so you
first need to tell Ant that you would like to use \IzPack :
\footnotesize
\begin{verbatim}
<!-- Allows us to use the IzPack Ant task -->
<taskdef name="izpack" classpath="${basedir}/lib/compiler.jar"
         classname="com.izforge.izpack.ant.IzPackTask"/>
\end{verbatim}
\normalsize

Don't forget to add \texttt{compiler.jar} to the classpath of the Ant process.\\

Then you can invoke \IzPack with the \texttt{izpack} taks that takes the
following parameters :
\begin{itemize}

  \item \texttt{input} : the XML installation file
  \item \texttt{output} : the output jar installer file
  \item \texttt{installerType} : the installer type
  \item \texttt{baseDir} : the base directory to resolve the relative paths
  \item \texttt{izPackDir} : the \IzPack home directory.
  
\end{itemize}\

Here's a sample of the task invocation :\\
\footnotesize
\begin{verbatim}
<!-- We call IzPack -->
<echo message="Makes the installer using IzPack"/>
<izpack input="${dist.dir}/IzPack-install.xml"
        output="${dist.dir}/IzPack-install.jar"
        installerType="standard-kunststoff"
        basedir="${dist.dir}"
        izPackDir="${dist.dir}/"/>
\end{verbatim}
\normalsize

% Automated installers
\section{Automated installers}

When you finish your installation with a FinishPanel, you can save the data for
an automatic installation. With this data, you'll be able to run the same
installation on another similar machine. On a wide range of computers, it can
save \textsl{a lot} of time.\\

So run once the installation on a machine and save your automatic installation
data in \texttt{auto-install.xml} (that's just a sample). Then put this file in
the same directory as the installer on another machine. Run it by :\\
\texttt{java -jar installer.jar auto-install.xml}\\

It has reproduced the same installation :-)\\

% Picture on the language selection dialog
\section{Picture on the language selection dialog}

You can add a picture on the language selection dialog by adding the following
resource : \texttt{installer.langsel.img}.\\

% Web installers
\section{Web installers}

The web installers allow your users to download a small installer that does not
contain the files to install. These files will be downloaded from a HTTP server
such as \textit{Apache HTTPD}. If you have many optional packs, this can save
people's resources.\\

So you'll get two files at the installer compilation time. The one to put on the
server ends by '\texttt{\_web}'. The location of this file must be in a resource
named \texttt{WebInstallers.url}. Just make a text file containing on the first
line the URL to the file. And that's it.\\

Please note that the installation can look like freezed while the installer
grabs the server part.\\

% More internationalization
\section{More internationalization}

IzPack is available in several languages. However you might want to
internationalize a little more some parts of your installers. In particular you
could want this for the *InfoPanel and *LicencePanel. This is actually pretty
easy to do. You just have to add one resource per localization suffixed with the
ISO3 language code. At runtime these panels will try to load a localized version
if possible.\\

For instance let's suppose that we use a HTMLInfoPanel. Suppose that we have it
in English, French and German. We want to have a French text for french users.
Here we add a resource pointing to the French text whose name is
\texttt{HTMLInfoPanel.info\_fra}. And that's it ! English and German users (or
anywhere else that in France) will get the default text (denoted by 
\texttt{HTMLInfoPanel.info}) and the French users will get the French version.
Same thing for the other Licence and Info panels.\\

\noindent
\textit{To sum up :} add \texttt{\_<iso3 code>} to the resource name for
\texttt{InfoPanel}, \texttt{HTMLInfoPanel}, \texttt{LicencePanel} and
\texttt{HTMLLicencePanel}.\\
